---
import { Image } from "astro:assets";
import BaseLayout from "../layouts/BaseLayout.astro";
import programmingImage from "../assets/programming.jpg";
import { serviceStats, contact } from "../config/site";
import PillLink from "../components/ui/PillLink.astro";
import SectionSubtitle from "../components/ui/SectionSubtitle.astro";
import {
  servicePillars,
  engagementModes,
  technologyHighlights,
  painPoints,
} from "../data/service";

// Enables FAQ rich snippets in search results to improve visibility
const faqSchema = {
  "@context": "https://schema.org",
  "@type": "FAQPage",
  mainEntity: [
    {
      "@type": "Question",
      name: "Welche KI-Dienstleistungen bietet Patrik Garten an?",
      acceptedAnswer: {
        "@type": "Answer",
        text: "Patrik Garten bietet AI Solution Architecture, RAG- & Agentensysteme mit LangChain/LlamaIndex, Platform Engineering (FastAPI, NestJS, Cloud-Infrastruktur), sowie Team Enablement durch Trainings und Coaching. Alle Leistungen folgen Security-by-Design nach BSI IT-Grundschutz und ISO 27001.",
      },
    },
    {
      "@type": "Question",
      name: "Wie läuft eine Zusammenarbeit ab?",
      acceptedAnswer: {
        "@type": "Answer",
        text: "Jede Zusammenarbeit startet mit einem Assessment von Prozessen, Datenquellen und Sicherheitsanforderungen. Daraus entsteht eine priorisierte Roadmap mit Verantwortlichkeiten und KPIs. Die Umsetzung erfolgt hands-on mit Reviews, Architecture Boards und Enablement-Artefakten.",
      },
    },
    {
      "@type": "Question",
      name: "Welche Engagement-Modelle gibt es?",
      acceptedAnswer: {
        "@type": "Answer",
        text: "Es gibt drei Modelle: Fractional AI/CIO für strategische Verantwortung, Projekt-Delivery für End-to-end Umsetzung, und Advisory & Enablement für Sparring und Coaching. Alle Modelle sind kombinierbar und remote im DACH-Raum oder vor Ort verfügbar.",
      },
    },
    {
      "@type": "Question",
      name: "Welche Technologien werden eingesetzt?",
      acceptedAnswer: {
        "@type": "Answer",
        text: "Der Tech-Stack umfasst LLMs (OpenAI, Azure OpenAI, Claude, Gemini, Mistral), Orchestrierung (LangChain, LlamaIndex, Haystack), Backend (FastAPI, NestJS, Django), Cloud (AWS, Azure, GCP, Kubernetes), und Security (OAuth2, Keycloak, BSI IT-Grundschutz).",
      },
    },
    {
      "@type": "Question",
      name: "Wie schnell kann ein Projekt starten?",
      acceptedAnswer: {
        "@type": "Answer",
        text: "Die Reaktionszeit auf Anfragen beträgt 24 Stunden. Time-to-Value für MVP/POC liegt bei unter 90 Tagen. Nach einem initialen Gespräch wird gemeinsam der optimale Startpunkt und Scope definiert.",
      },
    },
  ],
};
---

<BaseLayout
  classDefintion="bg-gray-50 text-gray-900 dark:bg-brand-dark dark:text-gray-100"
  title="Dienstleistungen & Serviceportfolio"
  description="Outcome-basierte AI Delivery: RAG & Agentensysteme, Platform Engineering und Enablement für Teams. Security-by-Design nach BSI IT-Grundschutz & ISO 27001."
>
  <section class="relative overflow-hidden px-4 py-12 sm:px-12 lg:py-20">
    <div
      class="pointer-events-none absolute inset-0 -z-10 bg-[radial-gradient(circle_at_top,rgba(37,99,235,0.15),transparent_55%)] dark:bg-[radial-gradient(circle_at_top,rgba(37,99,235,0.25),transparent_55%)]"
    >
    </div>
    <div
      class="pointer-events-none absolute -bottom-32 right-0 -z-10 h-72 w-72 rounded-full bg-brand-blue/10 blur-[140px] dark:bg-brand-blue/20"
    >
    </div>
    <div class="relative mx-auto flex w-full max-w-6xl flex-col gap-10">
      <div class="space-y-5">
        <span
          class="inline-flex w-fit items-center gap-2 rounded-full border border-slate-900/10 bg-white/90 px-5 py-2 text-xs font-semibold uppercase tracking-[0.3em] text-brand-gold dark:border-white/10 dark:bg-white/5 dark:text-brand-gold"
        >
          Serviceportfolio
        </span>
        <div class="space-y-5">
          <h1 class="text-3xl font-semibold sm:text-4xl lg:text-5xl">
            KI-Architektur &amp; Delivery, die Ihren Betrieb entlastet – nicht
            nur neue Tools einführt.
          </h1>
          <p class="text-lg leading-8 text-gray-600 dark:text-gray-300">
            Jede Zusammenarbeit startet mit klaren Outcomes: Sicherheit,
            Skalierbarkeit und Ownership in Ihrem Team. Leistungsbausteine
            lassen sich kombinieren – remote im DACH-Raum oder vor Ort.
          </p>
        </div>
      </div>
      <div
        class="flex flex-wrap gap-3 text-sm text-gray-500 dark:text-gray-300"
      >
        <PillLink
          href={contact.websites.main}
          label="Website"
          value="garten.ai"
          external={true}
        />
        <PillLink
          href={`mailto:${contact.email}`}
          label="Mail"
          value={contact.email}
        />
        <PillLink
          href={contact.linkedin.url}
          label="LinkedIn"
          value={contact.linkedin.handle}
          external={true}
        />
      </div>

      <div
        class="grid gap-8 rounded-[2.5rem] border border-slate-900/5 bg-white/90 p-5 text-sm text-gray-700 shadow-xl shadow-brand-blue/10 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:shadow-brand-blue/10 sm:p-8 lg:grid-cols-[1.1fr_0.9fr] lg:items-stretch"
      >
        <div class="space-y-8">
          <div
            class="grid gap-6 text-sm text-gray-700 dark:text-gray-200 sm:grid-cols-3"
          >
            {
              painPoints.map((pain) => (
                <article class="flex flex-col">
                  <p class="mb-3 sm:min-h-12 text-xs font-semibold uppercase tracking-[0.25em] text-brand-gold">
                    {pain.title}
                  </p>
                  <p class="leading-6 text-gray-600 dark:text-gray-300">
                    {pain.description}
                  </p>
                </article>
              ))
            }
          </div>
          <div class="space-y-3">
            <SectionSubtitle>Hands-on Engineering</SectionSubtitle>
            <h3 class="text-2xl font-semibold text-gray-900 dark:text-white">
              Architektur-Reviews, die direkt im Editor landen.
            </h3>
            <p class="leading-6 text-gray-700 dark:text-gray-200">
              Strategie endet bei mir nicht im Deck. Zwischen Architecture
              Boards, Security-Reviews und Delivery sitze ich selbst im Code,
              begleite Deployments und dokumentiere Entscheidungen für Product,
              Security und Betrieb.
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-400">
              Ergebnis: Systeme, die audited werden können – und Artefakte, die
              Ihr Team ohne externe Feuerwehr weiterpflegt.
            </p>
          </div>
          <div
            class="space-y-3 border-t border-slate-200/60 pt-6 dark:border-white/10"
          >
            <SectionSubtitle>Arbeitsweise</SectionSubtitle>
            <h3 class="text-xl font-semibold text-gray-900 dark:text-white">
              Strategy-to-Execution mit Verantwortung.
            </h3>
            <p class="text-gray-700 dark:text-gray-200">
              Wir starten mit Ihrem Engpass (z. B. Medienbrüche, Personalmangel,
              Aufsichtsanforderungen) und bauen von dort aus Architektur-Slices,
              Operating Models und Delivery-Workstreams auf. Security,
              Datenschutz und Enablement laufen nicht nebenher, sondern sind
              Bestandteil jedes Meilensteins.
            </p>
            <p class="text-sm text-gray-500 dark:text-gray-300">
              Reviews · Architecture Boards · Shadowing · Enablement
            </p>
          </div>
        </div>
        <figure
          class="flex min-h-[340px] flex-col overflow-hidden rounded-[2.5rem] bg-slate-900/90 shadow-lg shadow-brand-blue/10 dark:bg-white/5 dark:shadow-brand-blue/10"
        >
          <Image
            src={programmingImage}
            alt="Patrik arbeitet an zwei Monitoren mit Code und Infrastruktur-Dashboards."
            class="h-full w-full flex-1 object-cover"
            widths={[400, 800, 1200]}
            format="avif"
            loading="lazy"
          />
          <figcaption
            class="bg-white/95 p-4 text-sm text-gray-600 dark:bg-white/5 dark:text-gray-300"
          >
            „Deep Engineering" heißt: Architekturentscheidungen entstehen dort,
            wo sie implementiert und observiert werden.
          </figcaption>
        </figure>
      </div>

      <dl
        class="grid gap-8 rounded-[2.5rem] border border-slate-900/5 bg-white/80 p-8 text-sm shadow-xl shadow-brand-blue/10 sm:grid-cols-3 dark:border-white/10 dark:bg-white/5 dark:text-gray-200 dark:shadow-brand-blue/10"
      >
        {
          serviceStats.map((stat, index) => {
            const dividerClass =
              index === 0
                ? ""
                : "sm:border-l sm:pl-8 border-slate-900/10 dark:border-white/15";

            return (
              <div class={`space-y-2 text-left ${dividerClass}`}>
                <dt class="text-sm leading-6 text-gray-600 dark:text-gray-300">
                  {stat.label}
                </dt>
                <dd class="text-4xl font-semibold tracking-tight text-gray-900 dark:text-white">
                  {stat.value}
                </dd>
              </div>
            );
          })
        }
      </dl>
    </div>
  </section>

  <section
    class="bg-gray-50 px-4 py-12 dark:bg-brand-dark/50 sm:px-12 lg:py-16"
  >
    <div class="mx-auto max-w-6xl space-y-6">
      <div class="space-y-3">
        <SectionSubtitle>Leistungsbausteine</SectionSubtitle>
        <h2 class="text-2xl font-semibold sm:text-3xl">
          Architektur, Delivery &amp; Enablement.
        </h2>
        <p class="text-base text-gray-600 dark:text-gray-300">
          Jeder Baustein kann als Solo-Mandat oder kombiniert mit anderen
          Engagement Modes beauftragt werden.
        </p>
      </div>
      <div
        class="isolate mx-auto mt-16 grid w-full grid-cols-1 gap-y-8 sm:mt-20 lg:mx-0 lg:max-w-none lg:grid-cols-3 lg:items-stretch"
      >
        {
          servicePillars.map((pillar, index) => {
            const isFirst = index === 0;
            const isLast = index === servicePillars.length - 1;
            const isMiddle = !isFirst && !isLast;

            return (
              <div
                class={`flex h-full flex-col justify-between rounded-3xl bg-white p-8 ring-1 ring-inset ring-gray-200 xl:p-10 dark:bg-white/5 dark:ring-white/10 ${
                  isFirst ? "lg:rounded-r-none -mr-px" : ""
                } ${isLast ? "lg:rounded-l-none -ml-px" : ""} ${
                  isMiddle ? "lg:rounded-none lg:z-10" : ""
                }`}
              >
                <div class="flex flex-1 flex-col">
                  <SectionSubtitle class="mb-2">
                    {pillar.subtitle}
                  </SectionSubtitle>
                  <div class="flex items-center justify-between gap-x-4">
                    <h3
                      id={pillar.title.toLowerCase().replace(/\s+/g, "-")}
                      class="text-lg font-semibold text-brand-blue dark:text-brand-blue"
                    >
                      {pillar.title}
                    </h3>
                  </div>
                  <p class="mt-4 text-sm leading-6 text-gray-600 dark:text-gray-300">
                    {pillar.description}
                  </p>

                  <div class="mt-8">
                    <p class="text-sm font-semibold text-gray-900 dark:text-white">
                      Was wir liefern
                    </p>
                    <ul
                      role="list"
                      class="mt-4 space-y-3 text-sm leading-6 text-gray-600 dark:text-gray-300"
                    >
                      {pillar.deliverables.map((item) => (
                        <li class="flex gap-x-3">
                          <svg
                            viewBox="0 0 20 20"
                            fill="currentColor"
                            aria-hidden="true"
                            class="h-6 w-5 flex-none text-brand-blue dark:text-brand-gold"
                          >
                            <path
                              d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z"
                              clip-rule="evenodd"
                              fill-rule="evenodd"
                            />
                          </svg>
                          {item}
                        </li>
                      ))}
                    </ul>
                  </div>

                  <div class="mt-8">
                    <p class="text-sm font-semibold text-gray-900 dark:text-white">
                      Was sich verändert
                    </p>
                    <ul
                      role="list"
                      class="mt-4 space-y-3 text-sm leading-6 text-gray-600 dark:text-gray-300"
                    >
                      {pillar.results.map((item) => (
                        <li class="flex gap-x-3">
                          <svg
                            viewBox="0 0 20 20"
                            fill="currentColor"
                            aria-hidden="true"
                            class="h-6 w-5 flex-none text-brand-blue dark:text-brand-gold"
                          >
                            <path
                              d="M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z"
                              clip-rule="evenodd"
                              fill-rule="evenodd"
                            />
                          </svg>
                          {item}
                        </li>
                      ))}
                    </ul>
                  </div>
                </div>

                <div class="mt-8 border-t border-gray-200 pt-8 dark:border-white/10">
                  <p class="text-xs font-semibold uppercase tracking-wider text-gray-500 dark:text-gray-400">
                    Stack & Werkzeuge
                  </p>
                  <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                    {pillar.stack}
                  </p>
                </div>
              </div>
            );
          })
        }
      </div>
    </div>
  </section>

  <section class="bg-white px-4 py-12 dark:bg-brand-dark sm:px-12 lg:py-16">
    <div class="mx-auto max-w-6xl">
      <div class="space-y-3">
        <SectionSubtitle>Engagement</SectionSubtitle>
        <h2 class="text-2xl font-semibold sm:text-3xl">
          Modelle für Strategie, Delivery und Sparring.
        </h2>
        <p class="text-base text-gray-600 dark:text-gray-300">
          Wählen Sie, wie viel Verantwortung Sie abgeben: vom Fractional AI/CIO
          als verlängertem Arm der Geschäftsführung bis zum projektbasierten
          Delivery- oder Sparringsmodell für Ihre Teams.
        </p>
      </div>
      <div class="mt-8 grid gap-6 sm:grid-cols-2 lg:grid-cols-3">
        {
          engagementModes.map((mode) => (
            <article class="rounded-4xl border border-slate-900/5 bg-white p-5 shadow-md shadow-brand-blue/10 dark:border-white/5 dark:bg-white/5 dark:shadow-brand-blue/10 sm:p-6">
              <h3 class="text-lg font-semibold text-gray-900 dark:text-white">
                {mode.title}
              </h3>
              <p class="mt-2 text-sm text-gray-600 dark:text-gray-300">
                {mode.description}
              </p>
            </article>
          ))
        }
      </div>
    </div>
  </section>

  <section
    class="bg-linear-to-br from-slate-900 via-brand-dark to-black px-4 py-12 text-gray-100 sm:px-12 lg:py-16"
  >
    <div class="mx-auto max-w-6xl space-y-10">
      <div class="space-y-3">
        <p
          class="text-xs font-semibold uppercase tracking-[0.3em] text-brand-gold"
        >
          Tooling &amp; Observability
        </p>
        <h2 class="text-2xl font-semibold text-white sm:text-3xl">
          Kuratierte Stacks für LLM, Cloud &amp; Security.
        </h2>
      </div>
      <div class="grid gap-10 lg:grid-cols-3">
        <div>
          <p
            class="text-sm font-semibold uppercase tracking-widest text-brand-gold"
          >
            LLM &amp; RAG
          </p>
          <ul class="mt-4 space-y-2 text-sm text-gray-100">
            {technologyHighlights.llm.map((item) => <li>{item}</li>)}
          </ul>
        </div>
        <div>
          <p
            class="text-sm font-semibold uppercase tracking-widest text-brand-gold"
          >
            Cloud &amp; Delivery
          </p>
          <ul class="mt-4 space-y-2 text-sm text-gray-100">
            {technologyHighlights.cloud.map((item) => <li>{item}</li>)}
          </ul>
        </div>
        <div>
          <p
            class="text-sm font-semibold uppercase tracking-widest text-brand-gold"
          >
            Security &amp; Observability
          </p>
          <ul class="mt-4 space-y-2 text-sm text-gray-100">
            {technologyHighlights.security.map((item) => <li>{item}</li>)}
          </ul>
        </div>
      </div>
    </div>
  </section>

  <section
    class="bg-white px-4 py-12 text-center dark:bg-brand-dark sm:px-12 lg:py-16"
  >
    <div class="mx-auto max-w-3xl space-y-6">
      <div class="space-y-3">
        <SectionSubtitle>Nächste Schritte</SectionSubtitle>
        <h2
          class="text-2xl font-semibold text-gray-900 dark:text-white sm:text-3xl"
        >
          Bereit für Ihr nächstes Kapitel?
        </h2>
        <p class="text-base text-gray-600 dark:text-gray-300">
          Schreiben Sie an
          <a
            href={`mailto:${contact.email}`}
            class="font-semibold text-brand-blue underline-offset-4 hover:underline dark:text-brand-gold"
            >{contact.email}</a
          >
          oder buchen Sie ein Gespräch über
          <a
            href={contact.linkedin.url}
            target="_blank"
            rel="noopener noreferrer"
            class="font-semibold text-brand-blue underline-offset-4 hover:underline dark:text-brand-gold"
            >LinkedIn</a
          >.
        </p>
      </div>
      <div class="flex flex-wrap justify-center gap-4">
        <a
          href={contact.calendaring}
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center rounded-full bg-brand-blue px-6 py-3 text-sm font-semibold text-white shadow-lg shadow-brand-blue/30 transition hover:bg-blue-600"
        >
          Kontakt aufnehmen
        </a>
        <a
          href={`mailto:${contact.email}?subject=Serviceanfrage`}
          class="inline-flex items-center justify-center rounded-full border border-slate-900/20 px-6 py-3 text-sm font-semibold text-slate-900 transition hover:border-brand-blue/60 hover:text-brand-blue dark:border-white/20 dark:text-white/90 dark:hover:border-brand-gold/60 dark:hover:text-brand-gold"
        >
          PDF-Portfolio anfordern
        </a>
      </div>
      <p class="text-xs uppercase tracking-[0.3em] text-gray-400">
        Antwort innerhalb von 24 Stunden.
      </p>
    </div>
  </section>

  <script
    is:inline
    type="application/ld+json"
    set:html={JSON.stringify(faqSchema)}
  />
</BaseLayout>
